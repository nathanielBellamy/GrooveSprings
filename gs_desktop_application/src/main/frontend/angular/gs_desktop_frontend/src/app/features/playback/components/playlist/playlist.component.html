<fieldset class="gs_playlist">
  <legend class="gs_playlist_legend">
    Playlist
  </legend>
  <div class="gs_playlist_header">
    <form [formGroup]="playlistForm">
      <label for="playlistName">
        Name:
        <input type="text"
               id="playlistName"
               [formControl]="playlistForm.controls.name"
        />
      </label>
      <button type="submit"
              (click)="handleSavePlaylistClick()"
              [disabled]="!playlistForm.valid"
              >
        Save
      </button>
      <button (click)="handleClearPlaylistClick()">
        Clr.
      </button>
    </form>
    <span>
      <button (click)="updateCurrPlaylistTrackIdx(-1)">
        <
      </button>
      <button (click)="updateCurrPlaylistTrackIdx(1)">
        >
      </button>
    </span>
  </div>
  <div class="gs_playlist_tracks_container">
    <div class="gs_playlist_tracks">
      @for (track of playlistTracks; track track; let i = $index) {
        <div class="gs_playlist_track"
             [class.gs_playlist_current_track]="i === (currIdx$ | async)"
             (dblclick)="handleDblClick(i, track)">
          <div>
            {{i}}:
          </div>
          <div>
            {{track.title}}
          </div>
          <div>
            {{track.artists[0].name}}
          </div>
          <div>
            {{track.album.title}}
          </div>
          <div>
            {{track.audioCodec}}
          </div>
        </div>
      }
    </div>
  </div>
</fieldset>
