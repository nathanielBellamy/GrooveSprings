<fieldset class="gs_library">
  <legend class="gs_library_legend">
    <span
      (click)="handleLibrarySectionClick('library')"
      [class.selected]="currSectionIsLibrary"
      class="gs_library_legend_elem" >
      Library
    </span>
    -
    <span
      (click)="handleLibrarySectionClick('settings')"
      [class.selected]="currSectionIsSettings"
      class="gs_library_legend_elem" >
      Settings
    </span>
  </legend>
    <div
      *ngIf="currSectionIsSettings"
      class="gs_library_buttons">
      <button class="gs_library_scan_button"
              (click)="handleLibScanClick()">
        Scan Lib
      </button>
      <button class="gs_library_scan_button"
              (click)="handleLibClearClick()">
        Clear Lib
      </button>
    </div>

  <div
    class="gs_library_body"
    *ngIf="currSectionIsLibrary">
    <div class="gs_library_filters">
      <div class="gs_library_filters_title">
        Now Showing:
      </div>
      <div class="gs_library_filter">
        <div>
          Playlists
          <button (click)="clearPlaylistsFilter()">
            X
          </button>
        </div>
        <div class="gs_library_filter_list">
          @for(playlist of playlistsFilter$ | async; track playlist;) {
            <div class="gs_library_filter_val">
              {{playlist.name}}
            </div>
          }
        </div>
      </div>
      <div class="gs_library_filter">
        <div>
          Artists
          <button (click)="clearArtistsFilter()">
            X
          </button>
        </div>
        <div class="gs_library_filter_list">
          @for(artist of artistsFilter$ | async; track artist;) {
            <div class="gs_library_filter_val">
              {{artist.name}}
            </div>
          }
        </div>
      </div>
      <div class="gs_library_filter">
        <div>
          Albums
          <button (click)="clearAlbumsFilter()">
            X
          </button>
        </div>
        <div class="gs_library_filter_list">
          @for(album of albumsFilter$ | async; track album;) {
            <div class="gs_library_filter_val">
              {{album.title}}
            </div>
          }
        </div>
      </div>
    </div>
    <div class="gs_library_lists">
      <div class="gs_library_list">
        <header
          (click)="handleLibraryListTitleClick('playlists')"
          class="gs_library_list_title">
          <div class="gs_library_list_title_text">
            Playlists
          </div>
        </header>
        <body
          class="gs_library_list_body"
          [class.gs_library_list_displayed]="playlistsIsDisplayed"
          [class.gs_library_list_hidden]="!playlistsIsDisplayed">
          <gsPlaylists />
        </body>
      </div>
      <div class="gs_library_list">
        <header
          (click)="handleLibraryListTitleClick('artists')"
          class="gs_library_list_title">
          <div class="gs_library_list_title_text">
            Artists
          </div>
        </header>
        <body
          class="gs_library_list_body"
          [class.gs_library_list_displayed]="artistsIsDisplayed"
          [class.gs_library_list_hidden]="!artistsIsDisplayed">
          <gsArtists />
        </body>
      </div>
      <div class="gs_library_list">
        <header
          (click)="handleLibraryListTitleClick('albums')"
          class="gs_library_list_title">
          <div class="gs_library_list_title_text">
            Albums
          </div>
        </header>
        <body
          class="gs_library_list_body"
          [class.gs_library_list_displayed]="albumsIsDisplayed"
          [class.gs_library_list_hidden]="!albumsIsDisplayed">
        <gsAlbums />
        </body>
      </div>
      <div class="gs_library_list">
        <header
          (click)="handleLibraryListTitleClick('tracks')"
          class="gs_library_list_title">
          <div class="gs_library_list_title_text">
            Tracks
          </div>
        </header>
        <body
          class="gs_library_list_body"
          [class.gs_library_list_displayed]="tracksIsDisplayed"
          [class.gs_library_list_hidden]="!tracksIsDisplayed">
        <gsTracks />
        </body>
      </div>
    </div>
  </div>


</fieldset>
